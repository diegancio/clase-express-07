<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head'); -%>
  <body>
    <%- include('partials/nav'); -%>

    <div class="container mt-5">
      <div id="carousel" class="carousel slide bg-dark" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <% for( let i=0; i < movies.length; i++ ) { %>
          <button
            type="button"
            data-bs-target="#carousel"
            data-bs-slide-to="<%= i %>"
            class="bg-primary <%= i===0 ? 'active' : '' %>"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <% } %>
        </div>
        <div class="carousel-inner">
          <% for( let i=0; i < movies.length; i++ ) { %>
          <div class="carousel-item <%= i === 0 ? 'active' : '' %>">
            <div class="movie-detail">
              <h2><%= movies[i].title %></h2>
              <p>GÃ©nero: <%= movies[i].genre %></p>
              <p>Rating: <%= movies[i].rating %></p>
              <img
                src="<%= movies[i].poster.includes('http') ? movies[i].poster : '/images/posters/' + movies[i].poster %>"
                width="200"
              />
            </div>
          </div>
          <% } %>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carousel"
          data-bs-slide="prev"
        >
          <span
            class="carousel-control-prev-icon bg-primary"
            aria-hidden="true"
          ></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carousel"
          data-bs-slide="next"
        >
          <span
            class="carousel-control-next-icon bg-primary"
            aria-hidden="true"
          ></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
